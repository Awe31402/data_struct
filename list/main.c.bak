#include "base.h"
#include "list.h"
#include "list_node.h"
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

typedef struct _test test;

struct _test {
	int data;
	list_node *node;
};

int main()
{
	test *t1 = malloc(sizeof(test));
	test *tp;
	t1->data = 3;
	t1->node = new(list_node, t1);

	tp = container_of(&(t1->node), test, node);

	printf("tp = %p\n", container_of(&(t1->node),
				test, node));
	printf("&(t1->node) = %p\n", &(t1->node));
	printf("t1 = %p\n", t1);
	printf("tp->data = %d\n", tp->data);
	return 0;
}
